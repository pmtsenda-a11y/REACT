<?xml version="1.0" encoding="UTF-8"?>
<svg viewBox="0 0 800 400" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <style>
      .bg { fill: #1a1a2e; }
      .title { fill: #ffffff; font-family: system-ui, sans-serif; font-size: 22px; font-weight: bold; }
      .box { fill: #2d2d44; stroke: #4a5568; stroke-width: 2; rx: 8; }
      .box-arrange { fill: #1e3a5f; stroke: #3b82f6; }
      .box-act { fill: #1e3a28; stroke: #10b981; }
      .box-assert { fill: #3a1e3a; stroke: #8b5cf6; }
      .label { fill: #ffffff; font-family: system-ui, sans-serif; font-size: 16px; font-weight: bold; }
      .code { fill: #a0a0a0; font-family: monospace; font-size: 11px; }
      .desc { fill: #d0d0d0; font-family: system-ui, sans-serif; font-size: 12px; }
      .arrow { stroke: #4a5568; stroke-width: 2; fill: none; marker-end: url(#arrow); }
      .number { fill: #ffffff; font-family: system-ui, sans-serif; font-size: 14px; font-weight: bold; }
      .circle-arrange { fill: #3b82f6; }
      .circle-act { fill: #10b981; }
      .circle-assert { fill: #8b5cf6; }
    </style>
    <marker id="arrow" markerWidth="8" markerHeight="8" refX="6" refY="4" orient="auto">
      <polygon points="0 0, 8 4, 0 8" fill="#4a5568"/>
    </marker>
  </defs>
  
  <!-- Fondo -->
  <rect class="bg" width="800" height="400"/>
  
  <!-- Título -->
  <text class="title" x="400" y="35" text-anchor="middle">Patrón AAA (Arrange - Act - Assert)</text>
  
  <!-- Box 1: Arrange -->
  <rect class="box box-arrange" x="50" y="70" width="220" height="130"/>
  <circle class="circle-arrange" cx="80" cy="95" r="15"/>
  <text class="number" x="80" y="100" text-anchor="middle">1</text>
  <text class="label" x="160" y="100" text-anchor="middle" fill="#3b82f6">ARRANGE</text>
  <text class="desc" x="160" y="125" text-anchor="middle">Preparar el escenario</text>
  <text class="code" x="60" y="150">render(&lt;Button /&gt;)</text>
  <text class="code" x="60" y="168">const user =</text>
  <text class="code" x="70" y="186">userEvent.setup()</text>
  
  <!-- Flecha 1 a 2 -->
  <path class="arrow" d="M 270 135 L 290 135"/>
  
  <!-- Box 2: Act -->
  <rect class="box box-act" x="290" y="70" width="220" height="130"/>
  <circle class="circle-act" cx="320" cy="95" r="15"/>
  <text class="number" x="320" y="100" text-anchor="middle">2</text>
  <text class="label" x="400" y="100" text-anchor="middle" fill="#10b981">ACT</text>
  <text class="desc" x="400" y="125" text-anchor="middle">Ejecutar la acción</text>
  <text class="code" x="300" y="150">await user.click(</text>
  <text class="code" x="310" y="168">screen.getByRole(</text>
  <text class="code" x="320" y="186">'button'))</text>
  
  <!-- Flecha 2 a 3 -->
  <path class="arrow" d="M 510 135 L 530 135"/>
  
  <!-- Box 3: Assert -->
  <rect class="box box-assert" x="530" y="70" width="220" height="130"/>
  <circle class="circle-assert" cx="560" cy="95" r="15"/>
  <text class="number" x="560" y="100" text-anchor="middle">3</text>
  <text class="label" x="640" y="100" text-anchor="middle" fill="#8b5cf6">ASSERT</text>
  <text class="desc" x="640" y="125" text-anchor="middle">Verificar resultado</text>
  <text class="code" x="540" y="150">expect(element)</text>
  <text class="code" x="550" y="168">.toBeIn</text>
  <text class="code" x="550" y="186">TheDocument()</text>
  
  <!-- Ejemplo completo -->
  <rect class="box" x="50" y="230" width="700" height="150"/>
  <text class="label" x="400" y="255" text-anchor="middle">Ejemplo Completo</text>
  
  <text class="code" x="70" y="280" fill="#3b82f6">// Arrange</text>
  <text class="code" x="70" y="298">const user = userEvent.setup()</text>
  <text class="code" x="70" y="316">render(&lt;Counter /&gt;)</text>
  
  <text class="code" x="290" y="280" fill="#10b981">// Act</text>
  <text class="code" x="290" y="298">const btn = screen</text>
  <text class="code" x="300" y="316">.getByRole('button')</text>
  <text class="code" x="290" y="334">await user.click(btn)</text>
  
  <text class="code" x="520" y="280" fill="#8b5cf6">// Assert</text>
  <text class="code" x="520" y="298">const count = screen</text>
  <text class="code" x="530" y="316">.getByText('1')</text>
  <text class="code" x="520" y="334">expect(count).toBeVisible()</text>
</svg>